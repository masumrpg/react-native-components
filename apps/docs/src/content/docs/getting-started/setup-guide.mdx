---
title: Setup Guide
description: Comprehensive guide for configuring RNC Theme with advanced options and customizations.
---

This guide covers advanced configuration options for RNC Theme, including custom themes, internationalization, and performance optimizations.

## RNCProvider Configuration

The `RNCProvider` is the core component that provides theme context to your entire application. Here are all available configuration options:

```tsx
import { RNCProvider } from 'rnc-theme';

const App = () => {
  return (
    <RNCProvider
      // Theme Configuration
      defaultTheme="system"              // 'light' | 'dark' | 'system'
      storageKey="rnc-theme"             // Custom storage key
      enableSystemTheme={true}           // Enable system theme detection

      // Toast Configuration
      toast={{
        maxToasts: 4,                    // Maximum number of toasts
        position: 'bottom',              // 'top' | 'bottom' | 'center'
        duration: 3000,                  // Default duration in ms
        offset: 50,                      // Offset from screen edge
      }}

      // Internationalization
      i18nConfig={{
        locale: 'en',                    // Default locale
        fallbackLocale: 'en',           // Fallback locale
        translations: {
          en: { /* English translations */ },
          id: { /* Indonesian translations */ },
        },
      }}

      // Performance Options
      enableAnimations={true}            // Enable/disable animations
      animationDuration={200}            // Default animation duration

      // Development Options
      debug={__DEV__}                    // Enable debug mode
    >
      {/* Your app content */}
    </RNCProvider>
  );
};
```

## Theme Configuration

### Basic Theme Setup

```tsx
import { useTheme, themeRegistry } from 'rnc-theme';

const ThemeSetup = () => {
  const { theme, setTheme, toggleTheme, themeMode, setThemeMode } = useTheme();

  // Basic theme operations
  const handleThemeChange = () => {
    setTheme('dark');           // Set specific theme
    setThemeMode('dark');       // Set theme mode
    toggleTheme();              // Toggle between light/dark
  };

  return (
    // Your component JSX
  );
};
```

### Custom Theme Registration

Register custom themes using the theme registry:

```tsx
import { themeRegistry, CustomThemeConfigFactory } from 'rnc-theme';

// Static theme configuration
const materialTheme = {
  colors: {
    primary: '#6200EE',
    secondary: '#03DAC6',
    background: '#FFFFFF',
    surface: '#F5F5F5',
    text: '#000000',
    textSecondary: '#666666',
    border: '#E0E0E0',
    error: '#B00020',
    warning: '#FF6F00',
    success: '#00C853',
    info: '#2196F3',
  },
  spacing: {
    xs: 4,
    sm: 8,
    md: 16,
    lg: 24,
    xl: 32,
    xxl: 48,
  },
  borderRadius: {
    xs: 4,
    sm: 6,
    md: 8,
    lg: 12,
    xl: 16,
    full: 9999,
  },
  components: {
    height: {
      xs: 32,
      sm: 36,
      md: 40,
      lg: 44,
      xl: 48,
    },
    padding: {
      xs: 8,
      sm: 12,
      md: 16,
      lg: 20,
      xl: 24,
    },
  },
};

// Register static theme
themeRegistry.registerPreset('material', materialTheme);

// Dynamic theme configuration (responds to light/dark mode)
const dynamicThemeConfig: CustomThemeConfigFactory = (isDark: boolean) => ({
  colors: {
    primary: isDark ? '#BB86FC' : '#6200EE',
    background: isDark ? '#121212' : '#FFFFFF',
    surface: isDark ? '#1E1E1E' : '#F5F5F5',
    text: isDark ? '#FFFFFF' : '#000000',
    textSecondary: isDark ? '#B0B0B0' : '#666666',
    border: isDark ? '#404040' : '#E0E0E0',
    // ... other colors
  },
  // ... other theme properties
});

// Register dynamic theme
themeRegistry.registerPreset('dynamic-material', dynamicThemeConfig);
```

### Built-in Theme Presets

RNC Theme comes with several built-in presets:

```tsx
const setupThemePresets = () => {
  // Register all available presets
  const presets = [
    'material',     // Material Design inspired
    'neon',         // Neon/cyberpunk style
    'ocean',        // Ocean blue theme
    'sunset',       // Warm sunset colors
    'forest',       // Nature green theme
    'galaxy',       // Space/galaxy theme
    'vintage',      // Retro/vintage style
    'cyberpunk',    // Futuristic cyberpunk
    'pastel',       // Soft pastel colors
    'monochrome',   // Black and white
    'autumn',       // Autumn colors
    'arctic',       // Cool arctic theme
  ];

  presets.forEach(preset => {
    themeRegistry.registerPreset(preset, getPresetConfig(preset));
  });
};
```

## Internationalization (i18n)

### Basic i18n Setup

```tsx
import { RNCProvider } from 'rnc-theme';
import * as Localization from 'expo-localization';

const i18nConfig = {
  locale: Localization.locale,
  fallbackLocale: 'en',
  translations: {
    en: {
      common: {
        ok: 'OK',
        cancel: 'Cancel',
        save: 'Save',
        delete: 'Delete',
        edit: 'Edit',
        loading: 'Loading...',
        error: 'Error',
        success: 'Success',
      },
      components: {
        button: {
          loading: 'Loading...',
        },
        input: {
          required: 'This field is required',
          invalid: 'Invalid input',
        },
        modal: {
          close: 'Close',
        },
      },
    },
    id: {
      common: {
        ok: 'OK',
        cancel: 'Batal',
        save: 'Simpan',
        delete: 'Hapus',
        edit: 'Edit',
        loading: 'Memuat...',
        error: 'Error',
        success: 'Berhasil',
      },
      components: {
        button: {
          loading: 'Memuat...',
        },
        input: {
          required: 'Field ini wajib diisi',
          invalid: 'Input tidak valid',
        },
        modal: {
          close: 'Tutup',
        },
      },
    },
  },
};

const App = () => (
  <RNCProvider i18nConfig={i18nConfig}>
    {/* Your app */}
  </RNCProvider>
);
```

### Using Translations in Components

```tsx
import { useTranslation } from 'rnc-theme';

const MyComponent = () => {
  const { t, locale, setLocale } = useTranslation();

  return (
    <View>
      <Text>{t('common.loading')}</Text>
      <Button onPress={() => setLocale('id')}>
        {t('common.save')}
      </Button>
    </View>
  );
};
```

## Toast Configuration

### Global Toast Setup

```tsx
const toastConfig = {
  maxToasts: 4,
  position: 'bottom' as const,
  duration: 3000,
  offset: 50,
  enableSwipeToClose: true,
  enablePanGesture: true,
  animationType: 'slide' as const,
};

<RNCProvider toast={toastConfig}>
  {/* Your app */}
</RNCProvider>
```

### Using Toasts

```tsx
import { useToast } from 'rnc-theme';

const MyComponent = () => {
  const { showToast, hideToast, hideAllToasts } = useToast();

  const handleSuccess = () => {
    showToast({
      type: 'success',
      title: 'Success!',
      message: 'Operation completed successfully',
      duration: 3000,
      action: {
        label: 'Undo',
        onPress: () => console.log('Undo pressed'),
      },
    });
  };

  const handleError = () => {
    showToast({
      type: 'error',
      title: 'Error',
      message: 'Something went wrong',
      persistent: true, // Won't auto-dismiss
    });
  };

  return (
    <View>
      <Button onPress={handleSuccess}>Show Success</Button>
      <Button onPress={handleError}>Show Error</Button>
      <Button onPress={hideAllToasts}>Clear All</Button>
    </View>
  );
};
```

## Performance Optimization

### Lazy Loading Components

```tsx
import { lazy, Suspense } from 'react';
import { Spinner } from 'rnc-theme';

// Lazy load heavy components
const HeavyComponent = lazy(() => import('./HeavyComponent'));

const App = () => (
  <Suspense fallback={<Spinner size="lg" />}>
    <HeavyComponent />
  </Suspense>
);
```

### Memoization Best Practices

```tsx
import { memo, useMemo, useCallback } from 'react';
import { useThemedStyles } from 'rnc-theme';

const OptimizedComponent = memo(({ data }) => {
  const styles = useThemedStyles(createStyles);

  // Memoize expensive calculations
  const processedData = useMemo(() => {
    return data.map(item => ({ ...item, processed: true }));
  }, [data]);

  // Memoize callbacks
  const handlePress = useCallback((id: string) => {
    console.log('Pressed:', id);
  }, []);

  return (
    <View style={styles.container}>
      {processedData.map(item => (
        <TouchableOpacity
          key={item.id}
          onPress={() => handlePress(item.id)}
        >
          <Text>{item.name}</Text>
        </TouchableOpacity>
      ))}
    </View>
  );
});

const createStyles = (theme) => ({
  container: {
    backgroundColor: theme.colors.background,
    padding: theme.spacing.md,
  },
});
```

### Theme Persistence Configuration

```tsx
import AsyncStorage from '@react-native-async-storage/async-storage';

// Custom storage implementation
const customStorage = {
  getItem: async (key: string) => {
    try {
      return await AsyncStorage.getItem(key);
    } catch (error) {
      console.error('Storage get error:', error);
      return null;
    }
  },
  setItem: async (key: string, value: string) => {
    try {
      await AsyncStorage.setItem(key, value);
    } catch (error) {
      console.error('Storage set error:', error);
    }
  },
  removeItem: async (key: string) => {
    try {
      await AsyncStorage.removeItem(key);
    } catch (error) {
      console.error('Storage remove error:', error);
    }
  },
};

<RNCProvider
  storageKey="my-app-theme"
  storage={customStorage}
>
  {/* Your app */}
</RNCProvider>
```

## Platform-Specific Configuration

### iOS Specific Setup

```tsx
import { Platform } from 'react-native';

const iosSpecificConfig = {
  // iOS specific theme adjustments
  components: {
    height: {
      xs: Platform.OS === 'ios' ? 34 : 32,
      sm: Platform.OS === 'ios' ? 38 : 36,
      md: Platform.OS === 'ios' ? 42 : 40,
      lg: Platform.OS === 'ios' ? 46 : 44,
      xl: Platform.OS === 'ios' ? 50 : 48,
    },
    borderRadius: {
      xs: Platform.OS === 'ios' ? 6 : 4,
      sm: Platform.OS === 'ios' ? 8 : 6,
      md: Platform.OS === 'ios' ? 10 : 8,
      lg: Platform.OS === 'ios' ? 14 : 12,
      xl: Platform.OS === 'ios' ? 18 : 16,
    },
  },
};
```

### Android Specific Setup

```tsx
const androidSpecificConfig = {
  // Android specific theme adjustments
  colors: {
    // Use Material Design colors on Android
    primary: Platform.OS === 'android' ? '#6200EE' : '#007AFF',
    secondary: Platform.OS === 'android' ? '#03DAC6' : '#5AC8FA',
  },
  components: {
    elevation: Platform.OS === 'android' ? {
      xs: 1,
      sm: 2,
      md: 4,
      lg: 8,
      xl: 12,
    } : undefined,
  },
};
```

## Development and Debugging

### Debug Mode

```tsx
<RNCProvider debug={__DEV__}>
  {/* Your app */}
</RNCProvider>
```

When debug mode is enabled, you get:

- Theme change logs in console
- Performance warnings for heavy re-renders
- Component prop validation
- Theme structure validation

### Theme Inspector

```tsx
import { ThemeInspector } from 'rnc-theme/debug';

const App = () => (
  <RNCProvider>
    {__DEV__ && <ThemeInspector />}
    {/* Your app */}
  </RNCProvider>
);
```

## Testing Configuration

### Jest Setup

```javascript
// jest.setup.js
import 'react-native-gesture-handler/jestSetup';

// Mock RNC Theme for testing
jest.mock('rnc-theme', () => ({
  RNCProvider: ({ children }) => children,
  useTheme: () => ({
    theme: {
      colors: {
        primary: '#007AFF',
        background: '#FFFFFF',
        text: '#000000',
      },
      spacing: { md: 16 },
      borderRadius: { md: 8 },
    },
    toggleTheme: jest.fn(),
    setTheme: jest.fn(),
  }),
  useThemedStyles: (createStyles) => createStyles({
    colors: { primary: '#007AFF' },
    spacing: { md: 16 },
  }),
}));
```

### Component Testing

```tsx
import { render } from '@testing-library/react-native';
import { RNCProvider } from 'rnc-theme';
import MyComponent from './MyComponent';

const renderWithTheme = (component) => {
  return render(
    <RNCProvider defaultTheme="light">
      {component}
    </RNCProvider>
  );
};

test('renders with theme', () => {
  const { getByText } = renderWithTheme(<MyComponent />);
  expect(getByText('Hello World')).toBeTruthy();
});
```

## Migration Guide

### From v1.x to v2.x

```tsx
// Old way (v1.x)
import { ThemeProvider, useTheme } from 'rnc-theme';

<ThemeProvider theme="dark">
  <App />
</ThemeProvider>

// New way (v2.x)
import { RNCProvider, useTheme } from 'rnc-theme';

<RNCProvider defaultTheme="dark">
  <App />
</RNCProvider>
```

### Breaking Changes

1. **Provider renamed**: `ThemeProvider` → `RNCProvider`
2. **Prop changes**: `theme` → `defaultTheme`
3. **Hook changes**: `useTheme().currentTheme` → `useTheme().theme`
4. **Storage key**: Default changed from `theme` → `rnc-theme`

## Best Practices

### 1. Theme Organization

```tsx
// themes/index.ts
export const lightTheme = { /* ... */ };
export const darkTheme = { /* ... */ };
export const customThemes = { /* ... */ };

// themes/presets.ts
export const materialPreset = { /* ... */ };
export const neonPreset = { /* ... */ };
```

### 2. Component Styling

```tsx
// Use useThemedStyles for dynamic styling
const styles = useThemedStyles(createStyles);

// Prefer theme tokens over hardcoded values
const createStyles = (theme) => ({
  container: {
    backgroundColor: theme.colors.background, // ✅ Good
    // backgroundColor: '#FFFFFF',           // ❌ Avoid
    padding: theme.spacing.md,               // ✅ Good
    // padding: 16,                          // ❌ Avoid
  },
});
```

### 3. Performance

```tsx
// Memoize style creators
const createStyles = useMemo(() => (theme) => ({
  // styles
}), []);

// Use memo for expensive components
const ExpensiveComponent = memo(({ data }) => {
  // component logic
});
```

## Troubleshooting

### Common Issues

1. **Theme not persisting**: Check AsyncStorage permissions
2. **Styles not updating**: Ensure you're using `useThemedStyles`
3. **Performance issues**: Use memoization and lazy loading
4. **TypeScript errors**: Update to latest type definitions

### Getting Help

- [GitHub Issues](https://github.com/masumrpg/react-native-components/issues)
- [Documentation](/)
- [Community Discussions](https://github.com/masumrpg/react-native-components/discussions)
- [Examples](https://github.com/masumrpg/react-native-components/tree/main/apps/example)

## Next Steps

After completing the setup:

- [Explore Components](/components/overview)
- [Learn about Theming](/theming/overview)
- [Check out Examples](https://github.com/masumrpg/react-native-components/tree/main/apps/example)
- [Join the Community](https://github.com/masumrpg/react-native-components/discussions)