---
title: Setup Guide
description: Comprehensive guide for configuring RNC Theme with advanced options and customizations.
---

import { Aside } from '@astrojs/starlight/components';

This guide covers advanced configuration options for RNC Theme, including custom themes, internationalization, and performance optimizations.

## RNCProvider Configuration

The `RNCProvider` is the core component that provides theme context to your entire application. Here are all available configuration options:

```tsx title="_layout.tsx"
import { RNCProvider } from 'rnc-theme';

export default function RootLayout() {
  return (
    <RNCProvider
      // Theme Configuration
      defaultTheme="system" // 'light' | 'dark' | 'system'

      // Toast Configuration
      toast={{
        maxToasts: 4, // Maximum number of toasts
        position: "bottom", // 'top' | 'bottom'
      }}

      // Internationalization
      i18nConfig={{
        defaultLocale: "en", // Default locale
        translations: {
          en: {
            /* English translations */
          },
          id: {
            /* Indonesian translations */
          },
        },
      }}

      // Bottom Sheet Configuration
      bottomSheetProps={{}}

      // Theme Colors
      customLightTheme={}
      customDarkTheme={}
    >
      {/* App */}
    </RNCProvider>
  );
};
```

## Theme Configuration

### Basic Theme Setup

```tsx
import { useTheme, themeRegistry } from 'rnc-theme';

const ThemeSetup = () => {
  const { theme, themeMode } = useTheme();

  // Basic theme operations
  const handleThemeChange = () => {
    setThemeMode('dark');       // Set theme mode
  };

  return (
    <View style={{
      backgroundColor: theme.colors.background,
    }} />
  );
};
```

### Custom Theme Registration

Register custom themes using the theme registry:

```tsx
import { themeRegistry, CustomThemeConfigFactory } from 'rnc-theme';

// Static theme configuration
const customThemeConfig: CustomThemeConfigFactory = useMemo(
    () => (isDark: boolean) => ({
      colors: {
        primary: isDark ? '#FF6B6B' : '#4ECDC4',
        secondary: isDark ? '#FFE66D' : '#45B7D1',
        background: isDark ? '#1a1a1a' : '#f8f9fa',
        surface: isDark ? '#2d2d2d' : '#ffffff',
        text: isDark ? '#ffffff' : '#333333',
        textSecondary: isDark ? '#b0b0b0' : '#666666',
        border: isDark ? '#404040' : '#e0e0e0',
        error: '#FF5252',
        warning: '#FF9800',
        success: '#4CAF50',
        info: '#2196F3',
        muted: isDark ? '#666666' : '#999999',
        accent: isDark ? '#FF6B6B' : '#4ECDC4',
        destructive: '#FF5252',
      },
      components: {
        height: {
          xs: 32,
          sm: 36,
          md: 40,
          lg: 44,
          xl: 48,
        },
        padding: {
          xs: 8,
          sm: 12,
          md: 16,
          lg: 20,
          xl: 24,
        },
        borderRadius: {
          xs: 4,
          sm: 4,
          md: 8,
          lg: 16,
          xl: 24,
          full: 9999,
        },
      },
      spacing: {
        xs: 4,
        sm: 8,
        md: 16,
        lg: 24,
        xl: 32,
        xxl: 48,
      },
    }),
    []
  );

// Register dynamic theme
themeRegistry.registerPreset('custom', customThemeConfig);
```

## Internationalization (i18n)

### Basic i18n Setup

```tsx
import { RNCProvider } from 'rnc-theme';
import * as Localization from 'expo-localization';

const i18nConfig: I18nConfig = {
  translations: {
    en: {
      title: 'Internationalization Demo',
      subtitle: 'Language switching example',
      currentLanguage: 'Current Language',
      switchLanguage: 'Switch Language',
      greeting: 'Hello, World!',
      description:
        'This is a demonstration of the i18n functionality in the rnc-theme library.',
      features: {
        title: 'Features',
        dynamicSwitching: 'Dynamic language switching',
        persistentStorage: 'Persistent language storage',
        customConfig: 'Custom configuration support',
        autoDetection: 'Auto locale detection',
      },
      buttons: {
        english: 'English',
        indonesian: 'Indonesian',
        french: 'French',
      },
    },
    id: {
      title: 'Demo Internasionalisasi',
      subtitle: 'Contoh pergantian bahasa',
      currentLanguage: 'Bahasa Saat Ini',
      switchLanguage: 'Ganti Bahasa',
      greeting: 'Halo, Dunia!',
      description:
        'Ini adalah demonstrasi fungsionalitas i18n dalam library rnc-theme.',
      features: {
        title: 'Fitur',
        dynamicSwitching: 'Pergantian bahasa dinamis',
        persistentStorage: 'Penyimpanan bahasa persisten',
        customConfig: 'Dukungan konfigurasi kustom',
        autoDetection: 'Deteksi lokal otomatis',
      },
      buttons: {
        english: 'Inggris',
        indonesian: 'Indonesia',
        french: 'Prancis',
      },
    },
    fr: {
      title: "Démo d'Internationalisation",
      subtitle: 'Exemple de changement de langue',
      currentLanguage: 'Langue Actuelle',
      switchLanguage: 'Changer de Langue',
      greeting: 'Bonjour le Monde!',
      description:
        'Ceci est une démonstration de la fonctionnalité i18n dans la bibliothèque rnc-theme.',
      features: {
        title: 'Fonctionnalités',
        dynamicSwitching: 'Changement de langue dynamique',
        persistentStorage: 'Stockage de langue persistant',
        customConfig: 'Support de configuration personnalisée',
        autoDetection: 'Détection automatique des paramètres régionaux',
      },
      buttons: {
        english: 'Anglais',
        indonesian: 'Indonésien',
        french: 'Français',
      },
    },
  },
  supportedLocales: ['en', 'id', 'fr'],
  defaultLocale: 'en',
  autoDetectLocale: true,
};

const App = () => (
  <RNCProvider i18nConfig={i18nConfig}>
    {/* Your app */}
  </RNCProvider>
);
```

### Using Language

```tsx
import { useLanguage } from 'rnc-theme';

const MyComponent = () => {
  const {i18n: {t}} = useLanguage();

  return (
    <View>
      <Text>{t('title')}</Text>
    </View>
  );
};
```

## Toast Configuration

### Global Toast Setup

```tsx
<RNCProvider toast={{
        maxToasts: 4, // Maximum number of toasts
        position: "bottom", // 'top' | 'bottom'
      }}>
  {/* Your app */}
</RNCProvider>
```

### Using Toasts

```tsx
import { useToast } from 'rnc-theme';

const MyComponent = () => {
  const { toast } = useToast();

  const handleSuccess = () => {
    toast({
      title: 'Default Toast',
      description: 'This is a default toast message.',
    });
  };

  const handleError = () => {
    toast({
      variant: 'error',
      title: 'Error occurred',
      description: 'Something went wrong. Please try again.',
    });
  };

  return (
    <View>
      <Button onPress={handleSuccess}>Show Success</Button>
      <Button onPress={handleError}>Show Error</Button>
    </View>
  );
};
```

## Performance Optimization

### Lazy Loading Components

```tsx
import { lazy, Suspense } from 'react';
import { Spinner } from 'rnc-theme';

// Lazy load heavy components
const HeavyComponent = lazy(() => import('./HeavyComponent'));

const App = () => (
  <Suspense fallback={<Spinner size="lg" />}>
    <HeavyComponent />
  </Suspense>
);
```

### Memoization Best Practices

```tsx
import { memo, useMemo, useCallback } from 'react';
import { useThemedStyles, Theme } from 'rnc-theme';

const OptimizedComponent = memo(({ data }) => {
  // useThemedStyles memoize include
  const styles = useThemedStyles(createStyles);

  // Memoize expensive calculations
  const processedData = useMemo(() => {
    return data.map(item => ({ ...item, processed: true }));
  }, [data]);

  // Memoize callbacks
  const handlePress = useCallback((id: string) => {
    console.log('Pressed:', id);
  }, []);

  return (
    <View style={styles.container}>
      {processedData.map(item => (
        <TouchableOpacity
          key={item.id}
          onPress={() => handlePress(item.id)}
        >
          <Text>{item.name}</Text>
        </TouchableOpacity>
      ))}
    </View>
  );
});

const createStyles = (theme: Theme) => ({
  container: {
    backgroundColor: theme.colors.background,
    padding: theme.spacing.md,
  },
});
```

<Aside title='Caution' type='caution'>
  If typescript complaint in `useThemedStyles` hook, please use
  ```tsx
  import {StyleSheet} from "react-native"

  const createStyles = (theme: Theme) => StyleSheet.create({
  container: {
    backgroundColor: theme.colors.background,
    padding: theme.spacing.md,
  },
});
  ```
</Aside>

## Platform-Specific Configuration

### iOS Specific Setup

```tsx
import { Platform } from 'react-native';

const iosSpecificConfig = {
  // iOS specific theme adjustments
  components: {
    height: {
      xs: Platform.OS === 'ios' ? 34 : 32,
      sm: Platform.OS === 'ios' ? 38 : 36,
      md: Platform.OS === 'ios' ? 42 : 40,
      lg: Platform.OS === 'ios' ? 46 : 44,
      xl: Platform.OS === 'ios' ? 50 : 48,
    },
    borderRadius: {
      xs: Platform.OS === 'ios' ? 6 : 4,
      sm: Platform.OS === 'ios' ? 8 : 6,
      md: Platform.OS === 'ios' ? 10 : 8,
      lg: Platform.OS === 'ios' ? 14 : 12,
      xl: Platform.OS === 'ios' ? 18 : 16,
    },
  },
};
```

### Android Specific Setup

```tsx
const androidSpecificConfig = {
  // Android specific theme adjustments
  colors: {
    // Use Material Design colors on Android
    primary: Platform.OS === 'android' ? '#6200EE' : '#007AFF',
    secondary: Platform.OS === 'android' ? '#03DAC6' : '#5AC8FA',
  },
  components: {
    elevation: Platform.OS === 'android' ? {
      xs: 1,
      sm: 2,
      md: 4,
      lg: 8,
      xl: 12,
    } : undefined,
  },
};
```

## Best Practices

### 1. Theme Organization

```tsx
// themes/index.ts
export const lightTheme = { /* ... */ };
export const darkTheme = { /* ... */ };
export const customThemes = { /* ... */ };

// themes/presets.ts
export const materialPreset = { /* ... */ };
export const neonPreset = { /* ... */ };
```

### 2. Component Styling

```tsx
// Use useThemedStyles for dynamic styling
const styles = useThemedStyles(createStyles);

// Prefer theme tokens over hardcoded values
const createStyles = (theme) => ({
  container: {
    backgroundColor: theme.colors.background, // ✅ Good
    // backgroundColor: '#FFFFFF',           // ❌ Avoid
    padding: theme.spacing.md,               // ✅ Good
    // padding: 16,                          // ❌ Avoid
  },
});
```

### 3. Performance

```tsx
// style
const createStyles = (theme: Theme) => StyleSheet.create({
  backgroundColor: theme.colors.background
})

  // Memoize style creators
const memoizedCreateStyles = useThemedStyles(createStyles);
```

## Troubleshooting

### Common Issues

1. **Theme not persisting**: Check AsyncStorage permissions
2. **Styles not updating**: Ensure you're using `useThemedStyles`
3. **Performance issues**: Use memoization and lazy loading
4. **TypeScript errors**: Update to latest type definitions

### Getting Help

- [GitHub Issues](https://github.com/masumrpg/react-native-components/issues)
- [Examples](https://github.com/masumrpg/react-native-components/tree/main/apps/example)